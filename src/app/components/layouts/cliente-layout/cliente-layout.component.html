<nav class="flex items-center justify-between px-6 py-4 bg-[#1a1a2e] text-white shadow-md">
    <!-- Logo (redirige a tienda al hacer click) -->
    <div class="flex items-center gap-3 cursor-pointer"
    [routerLink]="'/cliente/tienda'">
    <div class="bg-cyan-500/10 p-2 rounded-full border border-cyan-400/40 shadow-md">
    <svg class="w-6 h-6 text-cyan-300" fill="none" stroke="currentColor" stroke-width="2"
        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path stroke-linecap="round" stroke-linejoin="round"
        d="M3 3h2l.4 2M7 13h11l3.2-6.4a1 1 0 0 0-.9-1.6H6.2L5.3 4H3m4 9l-1.2 5.6A1 1 0 0 0 7 20h10a1 1 0 0 0 1-1l1-4M9 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/>
    </svg>
    </div>
    <span class="text-xl font-extrabold text-cyan-300 tracking-wide">JechCommerce</span>
    </div>

  
    <!-- Acciones: Carrito y Usuario -->
    <div class="flex items-center gap-6">
      <!-- Carrito actualizado -->
        <button class="relative cursor-pointer" [routerLink]="'/cliente/carrito'">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-cyan-300" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
            <path d="M12.5 17h-6.5v-14h-2" />
            <path d="M6 5l14 1l-.854 5.977m-2.646 1.023h-10.5" />
            <path d="M19 22v-6" />
            <path d="M22 19l-3 -3l-3 3" />
            </svg>
            <span *ngIf="cartCount > 0"
                class="absolute -top-2 -right-2 bg-red-500 text-xs text-white px-1.5 py-0.5 rounded-full">
            {{ cartCount }}
            </span>
        </button>
  
  
  
      <!-- Usuario -->
      <div class="relative ">
        <button (click)="toggleMenu()" class="flex items-center justify-center w-10 h-10 rounded-full border-2 border-cyan-400 text-cyan-300 hover:bg-cyan-600/20 transition cursor-pointer">
          <svg  xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2a5 5 0 1 1 -5 5a5 5 0 0 1 5 -5z" />
            <path d="M14 14a5 5 0 0 1 5 5v1a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-1a5 5 0 0 1 5 -5h4z" />
          </svg>
        </button>
  
        <!-- Menú desplegable -->
        <div *ngIf="showMenu"
             class="absolute right-0 mt-2 bg-white text-black rounded shadow-md w-48 py-2 z-50">
          <div class="px-4 py-2 font-semibold text-cyan-700 border-b border-gray-200">
            Bienvenido:<br><span class="text-lg font-bold text-black">{{ user?.username }}</span>
          </div>
          <a routerLink="/cliente/historial" class="flex items-center gap-2 px-4 py-2 hover:bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor"
                 stroke-width="2" viewBox="0 0 24 24">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M12 8v4l3 3"/>
              <path d="M14 3.223a9.003 9.003 0 0 1 0 17.554"/>
              <path d="M10 20.777a8.942 8.942 0 0 1 -2.48 -.969"/>
              <path d="M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592"/>
              <path d="M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675"/>
              <path d="M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356"/>
            </svg>
            Historial de compras
          </a>
          <button (click)="logout()" class="flex items-center gap-2 px-4 py-2 w-full text-left hover:bg-gray-100 cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor"
                 stroke-width="2" viewBox="0 0 24 24">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"/>
              <path d="M9 12h12l-3 -3"/>
              <path d="M18 15l3 -3"/>
            </svg>
            Cerrar sesión
          </button>
        </div>
      </div>
    </div>
  </nav>
  
  <router-outlet></router-outlet>
